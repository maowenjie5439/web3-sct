# å®šæœŸè‡ªåŠ¨æ”¯ä»˜åˆçº¦ (Recurring Payment) éƒ¨ç½²æŒ‡å—

## ğŸ“‹ ç›®å½•

1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
3. [å‰ç½®å‡†å¤‡](#å‰ç½®å‡†å¤‡)
4. [åˆçº¦éƒ¨ç½²](#åˆçº¦éƒ¨ç½²)
5. [Chainlink Automation é…ç½®](#chainlink-automation-é…ç½®)
6. [åˆçº¦ä½¿ç”¨æµç¨‹](#åˆçº¦ä½¿ç”¨æµç¨‹)
7. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## æ¦‚è¿°

### åŠŸèƒ½è¯´æ˜

å®šæœŸè‡ªåŠ¨æ”¯ä»˜åˆçº¦å®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼š
- âœ… æ¯å¤© UTC æ—¶é—´ 9:00 è‡ªåŠ¨æ‰§è¡Œè½¬è´¦
- âœ… ä»ç§Ÿæˆ· A è´¦æˆ·è½¬è´¦ 1 ETH ç»™å…¬å¸ B è´¦æˆ·
- âœ… ä½¿ç”¨ Chainlink Automation å®ç°å‡†è‡ªåŠ¨åŒ–æ‰§è¡Œ
- âœ… ç§Ÿæˆ·å¯éšæ—¶å……å€¼ã€æ¿€æ´»ã€åœç”¨åˆçº¦
- âœ… å®Œæ•´çš„äº‹ä»¶æ—¥å¿—è®°å½•

### ä½¿ç”¨åœºæ™¯

- ğŸ  ç§Ÿé‡‘å®šæœŸæ”¯ä»˜
- ğŸ’¼ è®¢é˜…è´¹ç”¨è‡ªåŠ¨æ‰£æ¬¾
- ğŸ“± SaaS æœåŠ¡æœˆä»˜
- ğŸ”„ ä»»ä½•éœ€è¦å®šæœŸè½¬è´¦çš„åœºæ™¯

---

## æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒç»„ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  RecurringPayment åˆçº¦                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  checkUpkeep()  - æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰§è¡Œæ”¯ä»˜         â”‚   â”‚
â”‚  â”‚  performUpkeep() - æ‰§è¡Œè‡ªåŠ¨æ”¯ä»˜                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†‘
                        â”‚ å®šæœŸè°ƒç”¨
                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Chainlink Automation Network                â”‚
â”‚  - ç›‘æ§åˆçº¦çŠ¶æ€                                          â”‚
â”‚  - æ ¹æ® Cron è¡¨è¾¾å¼å®šæ—¶è§¦å‘                             â”‚
â”‚  - æ”¯ä»˜ Gas è´¹ç”¨                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å·¥ä½œæµç¨‹

1. **ç§Ÿæˆ·å……å€¼**: ç§Ÿæˆ·å‘åˆçº¦è½¬å…¥è¶³å¤Ÿçš„ ETH
2. **æ¿€æ´»åˆçº¦**: ç§Ÿæˆ·è°ƒç”¨ `activateContract()` æ¿€æ´»è‡ªåŠ¨æ”¯ä»˜
3. **Chainlink ç›‘æ§**: Chainlink Automation å®šæœŸè°ƒç”¨ `checkUpkeep()`
4. **æ¡ä»¶æ£€æŸ¥**: æ£€æŸ¥æ˜¯å¦åˆ°è¾¾æ”¯ä»˜æ—¶é—´ä¸”ä½™é¢å……è¶³
5. **è‡ªåŠ¨æ‰§è¡Œ**: æ»¡è¶³æ¡ä»¶æ—¶è°ƒç”¨ `performUpkeep()` æ‰§è¡Œè½¬è´¦
6. **è®°å½•æ—¥å¿—**: è§¦å‘ `PaymentExecuted` äº‹ä»¶

---

## å‰ç½®å‡†å¤‡

### 1. ç¯å¢ƒè¦æ±‚

- Node.js v18+
- Hardhat å¼€å‘ç¯å¢ƒ
- æµ‹è¯•ç½‘ ETHï¼ˆç”¨äº Gas è´¹ï¼‰
- LINK ä»£å¸ï¼ˆç”¨äºæ”¯ä»˜ Chainlink Automation æœåŠ¡è´¹ï¼‰

### 2. ç½‘ç»œé…ç½®

ç¼–è¾‘ `hardhat.config.ts`ï¼Œæ·»åŠ  Sepolia æˆ– Goerli æµ‹è¯•ç½‘é…ç½®ï¼š

```typescript
// æ·»åŠ åˆ° hardhat.config.ts
const SEPOLIA_RPC_URL = process.env.SEPOLIA_RPC_URL || "";
const SEPOLIA_PRIVATE_KEY = process.env.SEPOLIA_PRIVATE_KEY || "";

export default defineConfig({
  networks: {
    sepolia: {
      type: "http",
      chainType: "l1",
      url: SEPOLIA_RPC_URL,
      accounts: SEPOLIA_PRIVATE_KEY ? [SEPOLIA_PRIVATE_KEY] : [],
    },
  },
});
```

### 3. ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# Sepolia æµ‹è¯•ç½‘ RPC URLï¼ˆä» Alchemy æˆ– Infura è·å–ï¼‰
SEPOLIA_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/YOUR_API_KEY

# éƒ¨ç½²è´¦æˆ·ç§é’¥ï¼ˆç§Ÿæˆ·è´¦æˆ·ï¼‰
SEPOLIA_PRIVATE_KEY=your_private_key_here
```

### 4. è·å–æµ‹è¯•ç½‘ä»£å¸

#### è·å– Sepolia ETH
- è®¿é—® [Sepolia Faucet](https://sepoliafaucet.com/)
- æˆ–ä½¿ç”¨ [Alchemy Faucet](https://www.alchemy.com/faucets/ethereum-sepolia)

#### è·å– LINK ä»£å¸
- è®¿é—® [Chainlink Faucet](https://faucets.chain.link/)
- é€‰æ‹© Sepolia ç½‘ç»œ
- ç”³è¯· LINK æµ‹è¯•ä»£å¸ï¼ˆç”¨äºæ”¯ä»˜ Automation è´¹ç”¨ï¼‰

---

## åˆçº¦éƒ¨ç½²

### æ­¥éª¤ 1: ç¼–è¯‘åˆçº¦

```bash
npx hardhat compile
```

### æ­¥éª¤ 2: éƒ¨ç½²åˆçº¦

```bash
npx hardhat run scripts/deploy_recurring_payment.ts --network sepolia
```

### æ­¥éª¤ 3: è®°å½•åˆçº¦åœ°å€

éƒ¨ç½²æˆåŠŸåï¼Œè®°å½•è¾“å‡ºçš„åˆçº¦åœ°å€ï¼Œä¾‹å¦‚ï¼š

```
åˆçº¦åœ°å€: 0x1234567890123456789012345678901234567890
ç§Ÿæˆ·åœ°å€: 0xAbCdEf...
å…¬å¸åœ°å€: 0x123456...
```

### æ­¥éª¤ 4: ä¿®æ”¹äº¤äº’è„šæœ¬é…ç½®

ç¼–è¾‘ `scripts/interact_recurring_payment.ts`ï¼Œæ›¿æ¢åˆçº¦åœ°å€ï¼š

```typescript
const CONTRACT_ADDRESS = "0x1234567890123456789012345678901234567890"; // æ›¿æ¢ä¸ºå®é™…åœ°å€
```

---

## Chainlink Automation é…ç½®

### æ­¥éª¤ 1: è®¿é—® Chainlink Automation

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š[https://automation.chain.link/](https://automation.chain.link/)

### æ­¥éª¤ 2: è¿æ¥é’±åŒ…

- ç‚¹å‡» "Connect Wallet"
- é€‰æ‹© MetaMask æˆ–å…¶ä»–é’±åŒ…
- ç¡®ä¿é’±åŒ…å·²åˆ‡æ¢åˆ° Sepolia æµ‹è¯•ç½‘

### æ­¥éª¤ 3: æ³¨å†Œ Upkeep

1. ç‚¹å‡» **"Register New Upkeep"**

2. é€‰æ‹© **"Custom logic"**ï¼ˆè‡ªå®šä¹‰é€»è¾‘ï¼‰

3. å¡«å†™ Upkeep ä¿¡æ¯ï¼š

   **åŸºæœ¬ä¿¡æ¯ï¼š**
   ```
   - Target contract address: [æ‚¨çš„åˆçº¦åœ°å€]
   - Upkeep name: Recurring Payment - Daily 9AM UTC
   - Gas limit: 500000 (å»ºè®®å€¼)
   ```

   **è§¦å‘æ¡ä»¶ï¼š**
   - é€‰æ‹© **Time-based** (åŸºäºæ—¶é—´)
   - Cron è¡¨è¾¾å¼: `0 9 * * *` (æ¯å¤© UTC 9:00)
   
   **Cron è¡¨è¾¾å¼è¯´æ˜ï¼š**
   ```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é’Ÿ (0)
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å°æ—¶ (9)
   â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¥æœŸ (*è¡¨ç¤ºæ¯å¤©)
   â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€ æœˆä»½ (*è¡¨ç¤ºæ¯æœˆ)
   â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€ æ˜ŸæœŸ (*è¡¨ç¤ºæ¯å‘¨)
   â”‚ â”‚ â”‚ â”‚ â”‚
   0 9 * * *
   ```

4. **å……å€¼ LINK**ï¼š
   - åˆå§‹å……å€¼å»ºè®®: 5-10 LINK
   - ç”¨äºæ”¯ä»˜ Gas è´¹å’ŒæœåŠ¡è´¹
   - ä½™é¢ä¸è¶³æ—¶è®°å¾—å……å€¼

5. ç‚¹å‡» **"Register Upkeep"** ç¡®è®¤æ³¨å†Œ

### æ­¥éª¤ 4: éªŒè¯ Upkeep

æ³¨å†ŒæˆåŠŸåï¼Œæ‚¨å¯ä»¥åœ¨ Dashboard ä¸­çœ‹åˆ°ï¼š
- Upkeep ID
- åˆçº¦åœ°å€
- ä½™é¢çŠ¶æ€
- æ‰§è¡Œå†å²

---

## åˆçº¦ä½¿ç”¨æµç¨‹

### 1. æŸ¥è¯¢åˆçº¦ä¿¡æ¯

```bash
OPERATION=info npx hardhat run scripts/interact_recurring_payment.ts --network sepolia
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
åˆçº¦ä¿¡æ¯:
- ç§Ÿæˆ·åœ°å€: 0xAbCdEf...
- å…¬å¸åœ°å€: 0x123456...
- æ”¯ä»˜é‡‘é¢: 1.0 ETH
- æ”¯ä»˜é—´éš”: 86400 ç§’ ( 1 å¤©)
- åˆçº¦çŠ¶æ€: â¸ï¸  æœªæ¿€æ´»
- åˆçº¦ä½™é¢: 0.0 ETH
```

### 2. å……å€¼èµ„é‡‘åˆ°åˆçº¦

ç§Ÿæˆ·å‘åˆçº¦å……å€¼ï¼ˆå»ºè®®å……å€¼è‡³å°‘ 30 ETH ç”¨äº 30 å¤©çš„æ”¯ä»˜ï¼‰ï¼š

```bash
OPERATION=deposit DEPOSIT_AMOUNT=30 npx hardhat run scripts/interact_recurring_payment.ts --network sepolia
```

### 3. æ¿€æ´»åˆçº¦

ç¡®è®¤å……å€¼æˆåŠŸåï¼Œæ¿€æ´»è‡ªåŠ¨æ”¯ä»˜ï¼š

```bash
OPERATION=activate npx hardhat run scripts/interact_recurring_payment.ts --network sepolia
```

### 4. ç›‘æ§æ‰§è¡Œ

#### æ–¹æ³• 1: æŸ¥çœ‹åˆçº¦çŠ¶æ€

```bash
OPERATION=info npx hardhat run scripts/interact_recurring_payment.ts --network sepolia
```

#### æ–¹æ³• 2: æ£€æŸ¥æ˜¯å¦æ»¡è¶³æ‰§è¡Œæ¡ä»¶

```bash
OPERATION=checkUpkeep npx hardhat run scripts/interact_recurring_payment.ts --network sepolia
```

#### æ–¹æ³• 3: åœ¨åŒºå—é“¾æµè§ˆå™¨æŸ¥çœ‹

è®¿é—® [Sepolia Etherscan](https://sepolia.etherscan.io/)ï¼Œè¾“å…¥åˆçº¦åœ°å€æŸ¥çœ‹ï¼š
- äº¤æ˜“å†å²
- äº‹ä»¶æ—¥å¿— (Events)
- ä½™é¢å˜åŒ–

#### æ–¹æ³• 4: Chainlink Automation Dashboard

åœ¨ [automation.chain.link](https://automation.chain.link/) æŸ¥çœ‹ï¼š
- æ‰§è¡Œå†å²
- Gas ä½¿ç”¨æƒ…å†µ
- æˆåŠŸ/å¤±è´¥è®°å½•

### 5. åœç”¨åˆçº¦ï¼ˆå¯é€‰ï¼‰

å¦‚éœ€åœæ­¢è‡ªåŠ¨æ”¯ä»˜ï¼š

```bash
OPERATION=deactivate npx hardhat run scripts/interact_recurring_payment.ts --network sepolia
```

### 6. æå–å‰©ä½™èµ„é‡‘ï¼ˆå¯é€‰ï¼‰

åœç”¨åå¯æå–å‰©ä½™èµ„é‡‘ï¼š

```bash
OPERATION=withdraw WITHDRAW_AMOUNT=10 npx hardhat run scripts/interact_recurring_payment.ts --network sepolia
```

---

## ç­¾çº¦æ–¹å¼è¯´æ˜

### æ–¹å¼ 1: é“¾ä¸‹ç­¾çº¦ + é“¾ä¸Šéƒ¨ç½²

**é€‚ç”¨åœºæ™¯**: ç§Ÿæˆ·å’Œå…¬å¸çº¿ä¸‹è¾¾æˆåè®®

**æµç¨‹**:
1. åŒæ–¹çº¿ä¸‹ç­¾è®¢ç§ŸèµåˆåŒï¼ˆçº¸è´¨æˆ–ç”µå­ï¼‰
2. åˆåŒä¸­çº¦å®šä½¿ç”¨æ™ºèƒ½åˆçº¦è‡ªåŠ¨æ”¯ä»˜
3. æ˜ç¡®çº¦å®šåŒæ–¹é’±åŒ…åœ°å€
4. å…¬å¸æˆ–ç¬¬ä¸‰æ–¹éƒ¨ç½²åˆçº¦
5. ç§Ÿæˆ·å……å€¼å¹¶æ¿€æ´»åˆçº¦

**ä¼˜ç‚¹**:
- âœ… ç¬¦åˆä¼ ç»Ÿå•†ä¸šä¹ æƒ¯
- âœ… æ³•å¾‹æ•ˆåŠ›æ˜ç¡®
- âœ… çµæ´»æ€§é«˜

### æ–¹å¼ 2: çº¯é“¾ä¸Šç­¾çº¦

**é€‚ç”¨åœºæ™¯**: å»ä¸­å¿ƒåŒ–åº”ç”¨åœºæ™¯

**æµç¨‹**:
1. éƒ¨ç½²ä¸€ä¸ªå·¥å‚åˆçº¦ï¼ˆFactory Contractï¼‰
2. ç§Ÿæˆ·åœ¨ DApp ç•Œé¢é€‰æ‹©æ”¯ä»˜æ¡æ¬¾
3. è°ƒç”¨å·¥å‚åˆçº¦åˆ›å»ºå®šæœŸæ”¯ä»˜åˆçº¦
4. åŒæ–¹é“¾ä¸Šç¡®è®¤ï¼ˆé€šè¿‡äº¤æ˜“ç­¾åï¼‰
5. ç§Ÿæˆ·å……å€¼å¹¶æ¿€æ´»

**ä¼˜ç‚¹**:
- âœ… å®Œå…¨å»ä¸­å¿ƒåŒ–
- âœ… é€æ˜å¯éªŒè¯
- âœ… è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜

### æ–¹å¼ 3: å¤šç­¾åˆçº¦ç­¾çº¦

**é€‚ç”¨åœºæ™¯**: éœ€è¦å¤šæ–¹å‚ä¸å†³ç­–

**æµç¨‹**:
1. éƒ¨ç½²å¤šç­¾é’±åŒ…åˆçº¦
2. ç§Ÿæˆ·å’Œå…¬å¸å„è‡ªç­¾åç¡®è®¤åˆçº¦å‚æ•°
3. è¾¾åˆ°ç­¾åé˜ˆå€¼åè‡ªåŠ¨éƒ¨ç½²å®šæœŸæ”¯ä»˜åˆçº¦
4. åç»­æ“ä½œåŒæ ·éœ€è¦å¤šç­¾ç¡®è®¤

**ä¼˜ç‚¹**:
- âœ… å®‰å…¨æ€§é«˜
- âœ… é€‚åˆä¼ä¸šçº§åº”ç”¨
- âœ… é˜²æ­¢å•æ–¹é¢æ¶æ„æ“ä½œ

---

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆéœ€è¦ Chainlink Automationï¼Ÿ

**A**: ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦æ— æ³•"è‡ªåŠ¨æ‰§è¡Œ"ï¼Œå¿…é¡»ç”±å¤–éƒ¨è´¦æˆ·ï¼ˆEOAï¼‰æˆ–å…¶ä»–åˆçº¦è§¦å‘ã€‚Chainlink Automation æ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„ç½‘ç»œï¼Œå¯ä»¥æŒ‰æ—¶é—´æˆ–æ¡ä»¶è‡ªåŠ¨è°ƒç”¨åˆçº¦å‡½æ•°ã€‚

### Q2: Chainlink Automation è´¹ç”¨æ˜¯å¤šå°‘ï¼Ÿ

**A**: 
- **Gas è´¹**: æ¯æ¬¡æ‰§è¡Œ `performUpkeep()` çš„ Gas è´¹
- **æœåŠ¡è´¹**: Chainlink æ”¶å–å°‘é‡ LINK ä»£å¸ä½œä¸ºæœåŠ¡è´¹
- **ä¼°ç®—**: æµ‹è¯•ç½‘å…è´¹ï¼Œä¸»ç½‘çº¦ 0.1-0.2 LINK/æ¬¡

### Q3: å¦‚ä½•ç¡®ä¿ UTC 9:00 å‡†ç¡®æ‰§è¡Œï¼Ÿ

**A**: 
1. ä½¿ç”¨ Cron è¡¨è¾¾å¼ `0 9 * * *`
2. Chainlink Automation ä¼šåœ¨ç›®æ ‡æ—¶é—´å‰åå‡ åˆ†é’Ÿå†…æ‰§è¡Œ
3. ä¸èƒ½ä¿è¯ç²¾ç¡®åˆ°ç§’ï¼Œä½†è¯¯å·®é€šå¸¸åœ¨ 1-5 åˆ†é’Ÿå†…

### Q4: åˆçº¦ä½™é¢ä¸è¶³ä¼šæ€æ ·ï¼Ÿ

**A**: 
- `checkUpkeep()` ä¼šè¿”å› `false`
- Chainlink Automation ä¸ä¼šè°ƒç”¨ `performUpkeep()`
- ä¸ä¼šæ‰§è¡Œè½¬è´¦ï¼Œä¸ä¼šæŠ¥é”™
- ç§Ÿæˆ·å……å€¼åä¼šåœ¨ä¸‹æ¬¡æ—¶é—´ç‚¹ç»§ç»­æ‰§è¡Œ

### Q5: å¦‚ä½•åœ¨ä¸»ç½‘éƒ¨ç½²ï¼Ÿ

**A**: 
1. ä¿®æ”¹ `hardhat.config.ts` æ·»åŠ ä¸»ç½‘é…ç½®
2. å‡†å¤‡è¶³å¤Ÿçš„ ETH æ”¯ä»˜ Gas è´¹
3. å‡†å¤‡ LINK ä»£å¸ç”¨äº Chainlink Automation
4. ä½¿ç”¨ `--network mainnet` å‚æ•°éƒ¨ç½²
5. **æ³¨æ„**: ä¸»ç½‘æ“ä½œæ¶‰åŠçœŸå®èµ„é‡‘ï¼Œè¯·è°¨æ…ï¼

### Q6: å¦‚ä½•å¤„ç†æ—¶åŒºé—®é¢˜ï¼Ÿ

**A**: 
- åˆçº¦ä½¿ç”¨ `block.timestamp`ï¼ˆUTC æ—¶é—´æˆ³ï¼‰
- Cron è¡¨è¾¾å¼ä¹Ÿæ˜¯ UTC æ—¶é—´
- å¦‚éœ€æœ¬åœ°æ—¶é—´ï¼Œè¯·è½¬æ¢ï¼š
  - åŒ—äº¬æ—¶é—´ = UTC + 8
  - çº½çº¦æ—¶é—´ = UTC - 5 (æˆ– -4 å¤ä»¤æ—¶)

### Q7: å¦‚ä½•å‡çº§åˆçº¦ï¼Ÿ

**A**: 
æ™ºèƒ½åˆçº¦éƒ¨ç½²åæ— æ³•ä¿®æ”¹ä»£ç ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š
1. **åœç”¨æ—§åˆçº¦ï¼Œéƒ¨ç½²æ–°åˆçº¦**: 
   - ç®€å•ç›´æ¥
   - éœ€è¦é‡æ–°é…ç½® Chainlink Automation
   
2. **ä½¿ç”¨ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰**:
   - æ›´å¤æ‚
   - å¯å®ç°æ— ç¼å‡çº§

---

## å®‰å…¨å»ºè®®

### âœ… æœ€ä½³å®è·µ

1. **å……å€¼é‡‘é¢ç®¡ç†**
   - ä¸è¦ä¸€æ¬¡å……å€¼è¿‡å¤šèµ„é‡‘
   - å®šæœŸæ£€æŸ¥åˆçº¦ä½™é¢
   - åŠæ—¶è¡¥å……ä½†ä¸è¿‡é‡

2. **æƒé™ç®¡ç†**
   - åªæœ‰ç§Ÿæˆ·èƒ½æ¿€æ´»/åœç”¨åˆçº¦
   - åªæœ‰ç§Ÿæˆ·èƒ½æå–èµ„é‡‘
   - å…¬å¸åªèƒ½æ¥æ”¶è½¬è´¦

3. **ç›‘æ§å‘Šè­¦**
   - è®¾ç½®ä½™é¢å‘Šè­¦
   - ç›‘æ§æ‰§è¡Œå¤±è´¥æƒ…å†µ
   - å®šæœŸæŸ¥çœ‹äº‹ä»¶æ—¥å¿—

4. **å¤‡ç”¨æ–¹æ¡ˆ**
   - ä¿ç•™æ‰‹åŠ¨è½¬è´¦çš„èƒ½åŠ›
   - å‡†å¤‡å¤‡ç”¨ LINK ä½™é¢
   - æ–‡æ¡£è®°å½•æ“ä½œæµç¨‹

### âš ï¸ é£é™©æç¤º

- æ™ºèƒ½åˆçº¦å­˜åœ¨æ½œåœ¨æ¼æ´é£é™©
- Chainlink Automation å¯èƒ½å‡ºç°å»¶è¿Ÿ
- ç½‘ç»œæ‹¥å µå¯èƒ½å¯¼è‡´ Gas è´¹ä¸Šæ¶¨
- å»ºè®®å…ˆåœ¨æµ‹è¯•ç½‘å……åˆ†æµ‹è¯•åå†ä½¿ç”¨ä¸»ç½‘

---

## é™„å½•

### A. åˆçº¦å‡½æ•°åˆ—è¡¨

| å‡½æ•°å | è°ƒç”¨è€… | è¯´æ˜ |
|--------|--------|------|
| `activateContract()` | ç§Ÿæˆ· | æ¿€æ´»è‡ªåŠ¨æ”¯ä»˜ |
| `deactivateContract()` | ç§Ÿæˆ· | åœç”¨è‡ªåŠ¨æ”¯ä»˜ |
| `depositFunds()` | ç§Ÿæˆ· | å……å€¼èµ„é‡‘ |
| `withdrawFunds()` | ç§Ÿæˆ· | æå–èµ„é‡‘ï¼ˆä»…åœ¨åœç”¨æ—¶ï¼‰ |
| `checkUpkeep()` | Chainlink | æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰§è¡Œ |
| `performUpkeep()` | Chainlink | æ‰§è¡Œè‡ªåŠ¨æ”¯ä»˜ |
| `getContractInfo()` | ä»»ä½•äºº | æŸ¥è¯¢åˆçº¦ä¿¡æ¯ |
| `getBalance()` | ä»»ä½•äºº | æŸ¥è¯¢åˆçº¦ä½™é¢ |
| `getNextPaymentTime()` | ä»»ä½•äºº | æŸ¥è¯¢ä¸‹æ¬¡æ”¯ä»˜æ—¶é—´ |

### B. äº‹ä»¶åˆ—è¡¨

| äº‹ä»¶å | è¯´æ˜ |
|--------|------|
| `PaymentExecuted` | æ”¯ä»˜æ‰§è¡ŒæˆåŠŸ |
| `ContractActivated` | åˆçº¦å·²æ¿€æ´» |
| `ContractDeactivated` | åˆçº¦å·²åœç”¨ |
| `FundsDeposited` | èµ„é‡‘å·²å……å€¼ |
| `FundsWithdrawn` | èµ„é‡‘å·²æå– |

### C. æœ‰ç”¨çš„é“¾æ¥

- [Chainlink Automation æ–‡æ¡£](https://docs.chain.link/chainlink-automation/introduction)
- [Hardhat æ–‡æ¡£](https://hardhat.org/docs)
- [Sepolia æµ‹è¯•ç½‘æµè§ˆå™¨](https://sepolia.etherscan.io/)
- [Chainlink Faucet](https://faucets.chain.link/)
- [Cron è¡¨è¾¾å¼ç”Ÿæˆå™¨](https://crontab.guru/)

---

## è”ç³»æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- GitHub Issues
- Chainlink Discord
- ä»¥å¤ªåŠå¼€å‘è€…è®ºå›

ç¥æ‚¨éƒ¨ç½²é¡ºåˆ©ï¼ğŸš€

